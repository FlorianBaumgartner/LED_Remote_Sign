<link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.js"></script>

<style>
    .slider-container {
        width: 80%;
        margin: 20px auto;
        position: relative;
    }

    .slider-label {
        position: absolute;
        top: -25px;
        font-size: 14px;
        color: #000;
        font-weight: bold;
    }

    #startLabel {
        left: 0;
    }

    #endLabel {
        right: 0;
    }
</style>

<div class="slider-container">
    <!-- Labels for the time -->
    <div id="startLabel" class="slider-label">00:00</div>
    <div id="endLabel" class="slider-label">23:59</div>

    <!-- Range Slider -->
    <div id="timeSlider"></div>
</div>

<script>
    // Initialize noUiSlider
    var slider = document.getElementById('timeSlider');

    noUiSlider.create(slider, {
        start: [0, 96], // Starting values for the two knobs (representing 00:00 and 23:59)
        connect: true, // Show the bar between the two handles
        range: {
            'min': 0,
            'max': 96 // 96 intervals (15 minutes each)
        },
        step: 1, // Step in increments of 1 (which equals 15 minutes)
    });

    // Function to convert slider value to time in HH:MM format
    function convertToTime(value) {
        var totalMinutes = value * 15; // Each step represents 15 minutes
        var hours = Math.floor(totalMinutes / 60);
        var minutes = totalMinutes % 60;
        return ("0" + hours).slice(-2) + ":" + ("0" + minutes).slice(-2);
    }

    // Update the labels for the start and end time
    slider.noUiSlider.on('update', function (values, handle) {
        var startLabel = document.getElementById('startLabel');
        var endLabel = document.getElementById('endLabel');

        startLabel.innerHTML = convertToTime(values[0]);
        endLabel.innerHTML = convertToTime(values[1]);
    });

    // Example to get values when form is submitted
    function getSliderValues() {
        var values = slider.noUiSlider.get();
        var startTime = convertToTime(values[0]);
        var endTime = convertToTime(values[1]);

        console.log('Start Time:', startTime);
        console.log('End Time:', endTime);
        return { start: startTime, end: endTime };
    }

    // You can call getSliderValues() when submitting the form to save the times
</script>